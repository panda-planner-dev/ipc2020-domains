# Generating PCP Domains

This PCP domain genereator transforms randomly generated Post Corresponding Problem (PCP) instances into HTN planning problems. The domain generator employs a PCP instance generator which accepts an integer as an input and ensures that any solution to the generated instance is of length equal or greater than that integer (thus ensuring a pre-defined hardness). For more information about the PCP instance generator, consider its [webpage](http://webdocs.cs.ualberta.ca/~games/PCP/).  


## How to Use

To use this PCP domain generator, you must have PANDA3 and PCP instance generator installed. 


### Installing PANDA3

You should first download [PANDA3](https://github.com/galvusdamor/panda3core). Note that you do not have to compile the entire planner as described in the readme by PANDA3. Instead, you only need its parser, which you build by executing the antlr4 command as explained there. Then, instead of executing the sbt command as explained there (which would create the entire planner), you execute the following command from within the root folder of the code:

```
sbt PostCorrespondenceProblemToHTN/assembly
```


### Installing PCP Instance Generator

You should then download the [PCP generator](http://webdocs.cs.ualberta.ca/~games/PCP/PCPSolver/PCPSolver.0.0.3.tar.gz) and uncompress its content. We assume that the code, "PCPSolver_ver3", lies next to PANDA3 (i.e,. "panda3core"), i.e., in the same folder, next to our files (i.e., "gen_pcp.py", "PCPSolver.patch", and this README.md). Enter the folder "PCPSolver_ver3" and execute the following commands: 

```
patch -p1 < ../PCPSolver.patch
make
```


### Generating PCP Domains

Finally, you can run the script gen_pcp.py to generate PCP domains, which requires having Python3 installed. The following command can give you more information about the arguments the script accepts.

```
python3 gen_pcp.py -h
```
or

```
./gen_pcp.py -h
```

Notice that if no argument is given to the script, it will generate an HTN planning problem which encodes a randomly generated PCP instance whose solution is of length equal to or greater than 5. (So it's HTN plan will have twice that size.) Note that this way, not undecidable problems can be generated since the way the PCP random generator achieves the minimal solution size is by actually solving it.



### Instances in the IPC

Note that the random generator was added after the IPC problem instances were generated. Thus, these instances were hand-picked (from different sources) and not generated by the generator offered here. Consequently, the naming scheme of these files is also different.

